## Particle Gun Macro for edep-sim

## Physics changes

## Not everything is LAr
/edep/phys/ionizationModel 0


# Comment this if you want a fixed seed
/edep/random/timeRandomSeed

# This ensures that each hit segment in the LAr is only associated with one
# trajectory. It must be run BEFORE /edep/update.
/edep/hitSeparation volTPCActive -1 mm

/edep/db/set/neutronThreshold 0 MeV
/edep/db/set/gammaThreshold 0 MeV


/edep/update

# print commands
/gps/verbose 1

# generate particles
/gps/particle neutron

# next, we generate a flat distribution with each muon between $ARCUBE_ENERGY_MINIMUM and $ARCUBE_ENERGY_MAXIMUM (Gradient of 0 means flat and )
/gps/ene/type Lin
/gps/ene/min 12 MeV
/gps/ene/max 14 MeV
/gps/ene/gradient 0
/gps/ene/intercept 1 


#/gps/pos/type Point 


/gps/pos/type Volume
/gps/pos/shape Sphere
/gps/pos/radius 2 um


/gps/pos/centre 1.5 -0.2 0.3 m
/gps/pos/rot1 0.0 0.0 -1.0 
/gps/pos/rot2 -1.0 0.0 0.0 



# Neutron angular distribution according to DTG paper
/gps/ang/type user

# Rotate the source coordinate system to make x-y plane cooplanar to the detector x-z plane 
/gps/ang/rot1 0.0 0.0 -1.0
/gps/ang/rot2 -1.0 0.0 0.0

# Required to force the rotation of the angular distribution axes 
/gps/ang/surfnorm false

/gps/hist/type phi
/gps/hist/point 0.0 0.0
/gps/hist/point 0.1018265410994571 0.08180001418847305
/gps/hist/point 0.1800661363305037 0.06518438630643947
/gps/hist/point 0.2583057315615503 0.05623750975457523
/gps/hist/point 0.33654532679259686 0.0715750124149139
/gps/hist/point 0.4147849220236435 0.08946876551864237
/gps/hist/point 0.4930245172546901 0.09713751684881179
/gps/hist/point 0.5712641124857367 0.08691251507525272
/gps/hist/point 0.6495037077167832 0.09841564207050661
/gps/hist/point 0.7277433029478299 0.12014377083931975
/gps/hist/point 0.8059828981788765 0.11375314473084529
/gps/hist/point 0.8842224934099231 0.11503126995254036
/gps/hist/point 0.9624620886409696 0.17382503015050518
/gps/hist/point 1.0407016838720162 0.1699906544854205
/gps/hist/point 1.1189412791030628 0.1725469049288103
/gps/hist/point 1.1971808743341095 0.16487815359864094
/gps/hist/point 1.275420469565156 0.19427503369762344
/gps/hist/point 1.3536600647962027 0.16743440404203072
/gps/hist/point 1.4318996600272493 0.17638128059389496
/gps/hist/point 1.510139255258296 0.15337502660338692
/gps/hist/point 1.5883788504893426 0.16615627882033582
/gps/hist/point 1.6666184457203892 0.20322191024948824
/gps/hist/point 1.7448580409514356 0.22750628946169058
/gps/hist/point 1.8230976361824822 0.24412191734372418
/gps/hist/point 1.9013372314135288 0.23517504079185997
/gps/hist/point 1.9795768266445755 0.23773129123524972
/gps/hist/point 2.057816421875622 0.2160031624664372
/gps/hist/point 2.1360560171066685 0.23006253990508038
/gps/hist/point 2.214295612337715 0.2428437921220293
/gps/hist/point 2.2925352075687617 0.20577816069287747
/gps/hist/point 2.3707748027998083 0.20961253635796212
/gps/hist/point 2.449014398030855 0.19299690847592854
/gps/hist/point 2.5272539932619016 0.20577816069287747
/gps/hist/point 2.605493588492948 0.21472503724474168
/gps/hist/point 2.683733183723995 0.20450003547118256
/gps/hist/point 2.7619727789550415 0.15209690138169205
/gps/hist/point 2.840212374186088 0.11375314473084529
/gps/hist/point 2.9184519694171347 0.09202501596203215
/gps/hist/point 2.9966915646481813 0.12142189606101465
/gps/hist/point 3.074931159879228 0.1572094022684716
/gps/hist/point 3.1531707551102746 0.17510315537220006
/gps/hist/point 3.231410350341321 0.1393156491647439
/gps/hist/point 3.3096499455723674 0.140593774386438
/gps/hist/point 3.387889540803414 0.14570627527321758
/gps/hist/point 3.4661291360344606 0.10991876906576062
/gps/hist/point 3.544368731265507 0.10225001773559128
/gps/hist/point 3.622608326496554 0.12014377083931975
/gps/hist/point 3.7008479217276005 0.18021565625897962
/gps/hist/point 3.779087516958647 0.1981094093627081
/gps/hist/point 3.8573271121896937 0.2287844146833855
/gps/hist/point 3.9355667074207403 0.20833441113626722
/gps/hist/point 4.013806302651787 0.21855941290982636
/gps/hist/point 4.092045897882834 0.21216878680135431
/gps/hist/point 4.170285493113879 0.19427503369762344
/gps/hist/point 4.248525088344926 0.21216878680135193
/gps/hist/point 4.3267646835759725 0.17893753103728474
/gps/hist/point 4.405004278807019 0.2569031695606731
/gps/hist/point 4.483243874038066 0.2134469120230468
/gps/hist/point 4.561483469269112 0.24667816778711393
/gps/hist/point 4.639723064500159 0.20833441113626722
/gps/hist/point 4.717962659731206 0.2287844146833855
/gps/hist/point 4.796202254962252 0.17893753103728474
/gps/hist/point 4.874441850193299 0.1712687797071154
/gps/hist/point 4.9526814454243455 0.16232190315525116
/gps/hist/point 5.030921040655392 0.1699906544854205
/gps/hist/point 5.109160635886439 0.16615627882033582
/gps/hist/point 5.187400231117485 0.20194378502779278
/gps/hist/point 5.265639826348532 0.18149378148067452
/gps/hist/point 5.343879421579579 0.17893753103728474
/gps/hist/point 5.422119016810625 0.15337502660338692
/gps/hist/point 5.500358612041672 0.14442815005152268
/gps/hist/point 5.5785982072727185 0.12909064739118398
/gps/hist/point 5.656837802503765 0.12270002128270953
/gps/hist/point 5.735077397734812 0.10736251862237084
/gps/hist/point 5.813316992965858 0.08819064029694748
/gps/hist/point 5.891556588196905 0.09458126640542193
/gps/hist/point 5.969796183427952 0.09074689074033726
/gps/hist/point 6.048035778658998 0.09330314118372704
/gps/hist/point 6.126275373890045 0.09074689074033726
/gps/hist/point 6.2045149691210915 0.04856875842440586
/gps/hist/point 6.282754564352138 0.047290633202710965


# Just neutrons with hits...

/edep/db/set/requireEventsWithHits true
